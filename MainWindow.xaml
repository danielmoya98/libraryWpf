<Window x:Class="library.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ctrls="clr-namespace:library.Controls"
        xmlns:global="clr-namespace:"
        xmlns:vm="clr-namespace:library.ViewModels"
        xmlns:dashboard="clr-namespace:library.Views.Dashboard"
        xmlns:customers="clr-namespace:library.Views.Customers"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:books="clr-namespace:library.Views.Books"
        xmlns:orders="clr-namespace:library.Views.Orders"
        Background="#EEF3F2"
        MinWidth="800"
        MinHeight="600">

    <Window.DataContext>
        <global:ShellViewModel />
    </Window.DataContext>

    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:DashboardViewModel}">
            <dashboard:DashboardView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:CustomersViewModel}">
            <customers:CustomersView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:BooksViewModel}">
            <books:BooksView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:OrdersViewModel}">
            <orders:OrdersView />
        </DataTemplate>

    </Window.Resources>

    <materialDesign:DialogHost Identifier="RootDialog">


        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />   <!-- sidebar fijo -->
                <ColumnDefinition Width="*" />    <!-- área de contenido -->
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />   <!-- fila exclusiva del TopBar -->
                <RowDefinition Height="*" />      <!-- contenido -->
            </Grid.RowDefinitions>

            <ctrls:SideBar Grid.RowSpan="2" Grid.Column="0" />

            <ctrls:TopBar Grid.Column="1" Grid.Row="0" Panel.ZIndex="1" />

            <ContentPresenter Grid.Column="1" Grid.Row="1"
                              Content="{Binding CurrentViewModel}" />
        </Grid>
    </materialDesign:DialogHost>
</Window>