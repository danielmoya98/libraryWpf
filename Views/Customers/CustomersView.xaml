<UserControl x:Class="library.Views.Customers.CustomersView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ctrls="clr-namespace:library.Controls"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

  <Grid Margin="0 0 2 0">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>  <!-- Stats -->
      <RowDefinition Height="8"/>
      <RowDefinition Height="*"/>     <!-- Contenedor tarjeta -->
    </Grid.RowDefinitions>

    <!-- Top stats -->
    <ctrls:StatsSummary Grid.Row="0" ItemsSource="{Binding Stats}" />

    <materialDesign:Card Grid.Row="2"
                         Margin="2 0 4 8"
                         Background="{DynamicResource Brush.Card}"
                         BorderBrush="{DynamicResource Brush.Border}"
                         BorderThickness="1"
                         UniformCornerRadius="10"
                         VerticalAlignment="Stretch">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>   <!-- Header -->
          <RowDefinition Height="*"/>      <!-- Contenido -->
        </Grid.RowDefinitions>

        <!-- HEADER (con el toggle de vistas) -->
        <ctrls:CustomersHeader Grid.Row="0"
                               Title="Clientes"
                               AddCommand="{Binding AddCustomerAsyncCommand}"
                               ReportCommand="{Binding GenerateCustomersReportCommand}"
                               IsCardView="{Binding IsCardView, Mode=TwoWay}" />

        <ctrls:CustomersTable Grid.Row="1" />
      </Grid>
    </materialDesign:Card>
  </Grid>
</UserControl>
