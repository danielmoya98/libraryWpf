<UserControl x:Class="library.Views.Orders.OrdersView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:controls="clr-namespace:library.Controls">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- KPIs -->
        <controls:StatsSummary Grid.Row="0" ItemsSource="{Binding Stats}"/>

        <!-- Card principal -->
        <materialDesign:Card Grid.Row="1"
                             Margin="2 0 4 8"
                             UniformCornerRadius="10"
                             Background="{DynamicResource App.CardBrush}"
                             BorderBrush="{DynamicResource App.BorderBrush}"
                             BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/> <!-- espacio para futuro si lo necesitas -->
                    <RowDefinition Height="Auto"/> <!-- Header -->
                    <RowDefinition Height="*"/>    <!-- Tabla -->
                </Grid.RowDefinitions>

                <!-- Header de reservas -->
                <controls:OrdersHeader Grid.Row="1"
                                       SearchText="{Binding SearchText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                       Status="{Binding Status, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                       DateFrom="{Binding DateFrom, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                       DateTo="{Binding DateTo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                       AddReservationCommand="{Binding AddReservationAsyncCommand}"
                                       GenerateReportCommand="{Binding GenerateReservationsReportCommand}" />

                <!-- Tabla -->
                <controls:OrdersTable Grid.Row="2"/>
            </Grid>
        </materialDesign:Card>
    </Grid>
</UserControl>
